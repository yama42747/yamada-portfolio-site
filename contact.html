<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>Contact</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
*{box-sizing:border-box}
body{margin:0;font-family:sans-serif;background:#59ffa1}
.wrapper{max-width:1500px;margin:0 auto;padding:12px}

/* ===== HEADER ===== */
.header{
  display:flex;
  align-items:center;
  padding: 9px 0 0;
  gap:12px;
}

/* ロゴ（index.html基準のサイズ・比率で固定） */
.logo-link{
  display:block;
  position:relative;
  left:0px; /* align with paragraph/text column */
  top:-2px; /* keep current height alignment */
  width:46px;
  height:46px;
}
.logo-link img{
  width:100%;
  height:100%;
  display:block;
  object-fit:contain;
}

/* タイトル */
.page-title img{height:24px}

/* 黒線 */
.header-line{
  flex:1;
  height:2px;
  background:#000;
  margin:0 16px;
}

/* グローバルメニュー */
.nav{display:flex;gap:12px}
.nav-item{
  width:54px;
  height:28px;
}
.nav-item img{
  width:100%;
  height:100%;
  object-fit:contain;
}

/* Topのみ */
.nav-item.top{
  width:41px;
  height:16px;
  position:relative;
  top:5px;
}

/* ===== FORM ===== */
p{font-size:14px}
label{font-size:14px}
input,textarea{
  width:100%;
  padding:14px;
  border-radius:12px;
  border:none;
  font-size:15px;
  margin-bottom:12px;
}
textarea{height:120px}
button{
  width:100%;
  padding:14px;
  border:none;
  border-radius:22px;
  background:#ccc;
  font-size:15px;
}
button[disabled]{
  cursor:not-allowed;
  opacity:1;
}
button:not([disabled]){
  cursor:pointer;
  background:#ffffff;
}
</style>
</head>
<body>
<div class="wrapper">
<header class="header">
  <a href="index.html" class="logo-link">
    <img src="picture/logo-top.webp" alt="logo">
  </a>
  <div class="page-title">
    <img src="picture/contact-B.webp" alt="contact">
  </div>
  <div class="header-line"></div>
  <nav class="nav">
    <a class="nav-item" href="works.html">
      <img src="picture/works-B.webp" alt="works">
    </a>
    <a class="nav-item" href="about.html">
      <img src="picture/about-B.webp" alt="about">
    </a>
    <a class="nav-item top" href="index.html">
      <img src="picture/top-B.webp" alt="top">
    </a>
  </nav>
</header>

<p>ご相談・お見積もり等々、下記フォームからお気軽にお問い合わせください！土・日・祝を除く、3営業日以内にお返事いたします。</p>

<form id="contactForm" novalidate>
<label>お名前（必須）</label>
<input type="text" id="name" name="name" required>

<label>会社名</label>
<input type="text" id="company" name="company">

<label>メールアドレス（必須）</label>
<input type="email" id="email" name="email" required>

<label>ご予算</label>
<input type="text" id="budget" name="budget">

<label>ご希望納品日</label>
<input type="date" id="deadline" name="deadline">

<label>SNSやWebでの実績公開（必須）</label>
<input type="text" id="public" name="public" required>

<label>お問い合わせ内容（必須）</label>
<textarea id="message" name="message" required></textarea>

<button id="submitBtn" type="submit" disabled>送信</button>
</form>
</div>
<script>
(function(){
  const form = document.getElementById('contactForm');
  const btn = document.getElementById('submitBtn');
  const requiredIds = ['name','email','public','message'];

  function isValid(){
    // Native validity for required + email format
    for(const id of requiredIds){
      const el = document.getElementById(id);
      if(!el) return false;
      if(!el.value || !el.value.trim()) return false;
      if(!el.checkValidity()) return false;
    }
    return true;
  }

  function updateButton(){
    btn.disabled = !isValid();
  }

  requiredIds.concat(['company','budget','deadline']).forEach(id=>{
    const el = document.getElementById(id);
    if(el){
      el.addEventListener('input', updateButton);
      el.addEventListener('change', updateButton);
    }
  });

  // initial
  updateButton();

  form.addEventListener('submit', function(e){
    e.preventDefault();
    if(!isValid()){
      updateButton();
      return;
    }

    const name = document.getElementById('name').value.trim();
    const company = document.getElementById('company').value.trim();
    const email = document.getElementById('email').value.trim();
    const budget = document.getElementById('budget').value.trim();
    const deadline = document.getElementById('deadline').value;
    const pub = document.getElementById('public').value.trim();
    const msg = document.getElementById('message').value.trim();

    const subject = 'お問い合わせ（ポートフォリオサイト）';
    const bodyLines = [
      'お名前：' + name,
      '会社名：' + (company || '（未入力）'),
      'メールアドレス：' + email,
      'ご予算：' + (budget || '（未入力）'),
      'ご希望納品日：' + (deadline || '（未入力）'),
      'SNSやWebでの実績公開：' + pub,
      '',
      'お問い合わせ内容：',
      msg
    ];
    const body = bodyLines.join('\n');

    const mailto = 'mailto:yama42747@gmail.com'
      + '?subject=' + encodeURIComponent(subject)
      + '&body=' + encodeURIComponent(body);

    window.location.href = mailto;
  });
})();
</script>
</body>
</html>
